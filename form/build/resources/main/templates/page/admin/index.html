<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{UI/layouts/admin/admin_layout}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ - ìˆ˜í˜¸ëŒ€í–‰</title>
  <style>
    .dashboard-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px 30px;
      border-radius: 12px;
      margin-bottom: 30px;
    }
    
    .dashboard-title {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 10px;
    }
    
    .dashboard-subtitle {
      font-size: 16px;
      opacity: 0.9;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin-bottom: 40px;
    }
    
    .stat-card {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      text-align: center;
      transition: transform 0.3s ease;
    }
    
    .stat-card:hover {
      transform: translateY(-5px);
    }
    
    .stat-icon {
      font-size: 48px;
      margin-bottom: 15px;
    }
    
    .stat-number {
      font-size: 36px;
      font-weight: bold;
      color: #333;
      margin-bottom: 5px;
    }
    
    .stat-label {
      font-size: 14px;
      color: #666;
      text-transform: uppercase;
      font-weight: 600;
    }
    
    .content-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 40px;
    }
    
    .content-section {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 2px solid #f8f9fa;
    }
    
    .section-title {
      font-size: 20px;
      font-weight: bold;
      color: #333;
    }
    
    .section-link {
      color: #007bff;
      text-decoration: none;
      font-size: 14px;
      font-weight: 600;
    }
    
    .section-link:hover {
      text-decoration: underline;
    }
    
    .item-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .item-list li {
      padding: 15px 0;
      border-bottom: 1px solid #f8f9fa;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .item-list li:last-child {
      border-bottom: none;
    }
    
    .item-main {
      flex: 1;
    }
    
    .item-title {
      font-weight: 600;
      color: #333;
      margin-bottom: 5px;
    }
    
    .item-subtitle {
      font-size: 14px;
      color: #666;
    }
    
    .item-meta {
      font-size: 12px;
      color: #999;
      text-align: right;
    }
    
    .item-status {
      text-align: center;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
    }
    
    .status-pending {
      background-color: #fff3cd;
      color: #856404;
    }
    
    .status-approved {
      background-color: #d4edda;
      color: #155724;
    }
    
    .status-completed {
      background-color: #d1ecf1;
      color: #0c5460;
    }

    .item-color {
      width: 24px;
      height: 24px;
      border-radius: 10%;
      display: inline-block;
      margin-right: 8px;
    }
    
    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: #666;
    }
    
    .empty-icon {
      font-size: 48px;
      margin-bottom: 15px;
      opacity: 0.5;
    }
    
    .quick-actions {
      background: white;
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .action-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }
    
    .action-btn {
      display: block;
      padding: 20px;
      background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      text-align: center;
      font-weight: 600;
      transition: transform 0.3s ease;
    }
    
    .action-btn:hover {
      transform: translateY(-2px);
      color: white;
    }
    
    .action-btn.success {
      background: linear-gradient(135deg, #28a745 0%, #218838 100%);
    }
    
    .action-btn.info {
      background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
    }
    
    .action-btn.warning {
      background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
    }
    
    @media (max-width: 768px) {
      .content-grid {
        grid-template-columns: 1fr;
      }
      
      .stats-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }
      
      .dashboard-header {
        padding: 30px 20px;
      }
      
      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
    }
  </style>
</head>
<body layout:fragment="content">
  <div class="container-fluid">
    <!-- ëŒ€ì‹œë³´ë“œ í—¤ë” -->
    <div class="dashboard-header">
      <h1 class="dashboard-title">ğŸ  ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
      <p class="dashboard-subtitle">ìˆ˜í˜¸ëŒ€í–‰ ê´€ë¦¬ ì‹œìŠ¤í…œì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</p>
    </div>
    
    <!-- í†µê³„ ì¹´ë“œ -->
    <div class="stats-grid">
      <div class="stat-card cursor-pointer" th:onclick="|window.location='@{/admin/forms?status=ì ‘ìˆ˜}'|">
        <div class="stat-icon">ğŸ“‹</div>
        <div class="stat-number" th:text="${statusCount['ì ‘ìˆ˜'] ?: 0}">12</div>
        <div class="stat-label">ìµœê·¼ ì„¤ë¬¸</div>
      </div>

      <div class="stat-card cursor-pointer" th:onclick="|window.location='@{/admin/forms?status=ê²€í† ì¤‘}'|">
        <div class="stat-icon">â³</div>
        <div class="stat-number" th:text="${statusCount['ê²€í† ì¤‘'] ?: 0}">0</div>
        <div class="stat-label">ê²€í†  ì¤‘</div>
      </div>
      
      <div class="stat-card cursor-pointer" th:onclick="|window.location='@{/admin/forms?status=ìŠ¹ì¸}'|">
        <div class="stat-icon">âœ…</div>
        <div class="stat-number" th:text="${statusCount['ìŠ¹ì¸'] ?: 0}">8</div>
        <div class="stat-label">ìŠ¹ì¸</div>
      </div>
      
      <div class="stat-card cursor-pointer" th:onclick="|window.location='@{/admin/forms?status=ì™„ë£Œ}'|">
        <div class="stat-icon">âœ¨</div>
        <div class="stat-number" th:text="${statusCount['ì™„ë£Œ'] ?: 0}">0</div>
        <div class="stat-label">ì™„ë£Œëœ ì‘ì—…</div>
      </div>
      
    </div>
    
    <!-- ì»¨í…ì¸  ê·¸ë¦¬ë“œ -->
    <div class="content-grid">
      <!-- ìµœê·¼ ì„¤ë¬¸ -->
      <div class="content-section">
        <div class="section-header">
          <h3 class="section-title">ğŸ“‹ ìµœê·¼ ì„¤ë¬¸</h3>
          <a href="/admin/forms" class="section-link">ì „ì²´ ë³´ê¸° â†’</a>
        </div>
        
        <ul class="item-list" th:if="${recentForms != null and !recentForms.isEmpty()}">
          <li th:each="form : ${recentForms}">
            <div class="item-main">
              <div class="item-title" th:text="${form.name}">í™ê¸¸ë™</div>
              <div class="item-subtitle" th:text="${form.address + ' ' + form.detailAddress}">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123 101ë™ 101í˜¸</div>
            </div>
            <div class="item-meta">
              <div class="item-status status-pending"><th:block th:text="${form.status}">ì ‘ìˆ˜</th:block></div>
              <div th:text="${#dates.format(form.createdAt, 'MM-dd HH:mm')}">01-15 14:30</div>
            </div>
          </li>
        </ul>
        
        <div class="empty-state" th:if="${recentForms == null or recentForms.isEmpty()}">
          <div class="empty-icon">ğŸ“‹</div>
          <p>ìµœê·¼ ì ‘ìˆ˜ëœ ì„¤ë¬¸ì´ ì—†ìŠµë‹ˆë‹¤</p>
        </div>
      </div>
      
      <!-- ìµœê·¼ ì¼ì • -->
      <div class="content-section">
        <div class="section-header">
          <h3 class="section-title">ğŸ“… ìµœê·¼ ì¼ì •</h3>
          <a href="/admin/schedules" class="section-link">ì „ì²´ ë³´ê¸° â†’</a>
        </div>
        
        <ul class="item-list" th:if="${recentSchedules != null and !recentSchedules.isEmpty()}">
          <li th:each="schedule : ${recentSchedules}">
            <div class="item-main">
              <div class="item-title" th:text="${schedule.title}">ë°©ì¶©ë§ ì‹œê³µ - 101ë™ 101í˜¸</div>
              <div class="item-subtitle" th:text="${schedule.note ?: 'ìƒì„¸ ë‚´ìš© ì—†ìŒ'}">ë°”ë‹¥ì¬ êµì²´ ë° ë²½ì§€ ë„ë°°</div>
            </div>
            <div class="item-meta">
              <div class="item-color" th:style="|background-color: ${schedule.color};|"></div>
              <div th:text="${#temporals.format(schedule.start, 'MM-dd')} + ' ~ ' + ${#temporals.format(schedule.end, 'MM-dd')}">01-15 ~ 01-20</div>
            </div>
          </li>
        </ul>
        
        <div class="empty-state" th:if="${recentSchedules == null or recentSchedules.isEmpty()}">
          <div class="empty-icon">ğŸ“…</div>
          <p>ë“±ë¡ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤</p>
        </div>
      </div>
    </div>
    
    <!-- ë¹ ë¥¸ ì•¡ì…˜ -->
    <div class="quick-actions">
      <div class="section-header">
        <h3 class="section-title">ğŸš€ ë¹ ë¥¸ ì•¡ì…˜</h3>
      </div>
      
      <div class="action-grid">
        <a href="/admin/forms" class="action-btn">
          <div>ğŸ“‹ ì„¤ë¬¸ ê´€ë¦¬</div>
        </a>
        
        <a href="/admin/schedules" class="action-btn success">
          <div>ğŸ“… ìŠ¤ì¼€ì¤„ ê´€ë¦¬</div>
        </a>
        
        <a href="/forms" class="action-btn info">
          <div>ğŸ“ ìƒˆ ì„¤ë¬¸ ì‘ì„±</div>
        </a>
        
        <a href="#" class="action-btn warning" onclick="showStats()">
          <div>ğŸ“Š í†µê³„ ë³´ê¸°</div>
        </a>
      </div>
    </div>
  </div>

  <script>
    function showStats() {
      alert('í†µê³„ ê¸°ëŠ¥ì€ ì¶”í›„ êµ¬í˜„ ì˜ˆì •ì…ë‹ˆë‹¤.');
    }
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì• ë‹ˆë©”ì´ì…˜
    document.addEventListener('DOMContentLoaded', function() {
      const cards = document.querySelectorAll('.stat-card, .content-section, .quick-actions');
      cards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
          card.style.transition = 'all 0.6s ease';
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, index * 100);
      });
    });
  </script>
</body>
</html>