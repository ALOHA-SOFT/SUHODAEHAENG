<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{UI/layouts/user/main_layout}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ìˆ˜í˜¸ëŒ€í–‰</title>
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
  <style>
    .container {
      max-width: 768px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .banner-slider {
      height: 300px;
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 30px;
      position: relative;
    }
    
    .swiper {
      width: 100%;
      height: 100%;
      border-radius: 12px;
    }
    
    .swiper-slide {
      text-align: center;
      font-size: 18px;
      background: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .swiper-slide img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .swiper-pagination-bullet {
      background: #fff;
      opacity: 0.7;
    }
    
    .swiper-pagination-bullet-active {
      background: #007bff;
      opacity: 1;
    }
    
    .swiper-button-next,
    .swiper-button-prev {
      color: #fff;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 50%;
      width: 44px;
      height: 44px;
    }
    
    .swiper-button-next:after,
    .swiper-button-prev:after {
      font-size: 16px;
    }
    
    .service-section {
      background: white;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .section-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 20px;
      color: #333;
    }
    
    /* íƒ­ UI ìŠ¤íƒ€ì¼ */
    .tab-container {
      margin-bottom: 30px;
    }
    
    .tab-nav {
      display: flex;
      border-bottom: 2px solid #e9ecef;
      margin-bottom: 25px;
    }
    
    .tab-btn {
      flex: 1;
      padding: 15px 20px;
      background: none;
      border: none;
      font-size: 16px;
      font-weight: 600;
      color: #6c757d;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .tab-btn.active {
      color: #007bff;
    }
    
    .tab-btn.active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      right: 0;
      height: 2px;
      background-color: #007bff;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .service-notice {
      background: #e7f3ff;
      border-left: 4px solid #007bff;
      padding: 15px 20px;
      margin-bottom: 20px;
      border-radius: 0 8px 8px 0;
    }
    
    .service-notice .notice-title {
      font-size: 14px;
      font-weight: 600;
      color: #007bff;
      margin-bottom: 5px;
    }
    
    .service-notice .notice-text {
      font-size: 13px;
      color: #495057;
      line-height: 1.4;
    }
    
    .service-group {
      margin-bottom: 25px;
    }
    
    .service-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    .service-option {
      flex: 1;
      min-width: 200px;
    }
    
    .service-option input[type="checkbox"],
    .service-option input[type="radio"] {
      display: none;
    }
    
    .service-option label {
      display: block;
      padding: 15px;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      font-weight: 500;
      position: relative;
    }
    
    .service-option input[type="checkbox"]:checked + label,
    .service-option input[type="radio"]:checked + label {
      border-color: #007bff;
      background-color: #f8f9ff;
      color: #007bff;
    }
    
    .service-option label::before {
      content: '';
      position: absolute;
      top: 10px;
      right: 10px;
      width: 20px;
      height: 20px;
      border: 2px solid #dee2e6;
      border-radius: 3px;
      background: white;
    }
    
    .service-option input[type="radio"] + label::before {
      border-radius: 50%;
    }
    
    .service-option input[type="checkbox"]:checked + label::before {
      background: #007bff;
      border-color: #007bff;
    }
    
    .service-option input[type="radio"]:checked + label::before {
      background: #007bff;
      border-color: #007bff;
    }
    
    .service-option input[type="checkbox"]:checked + label::after {
      content: 'âœ“';
      position: absolute;
      top: 12px;
      right: 15px;
      color: white;
      font-size: 14px;
      font-weight: bold;
    }
    
    .service-option input[type="radio"]:checked + label::after {
      content: '';
      position: absolute;
      top: 16px;
      right: 16px;
      width: 8px;
      height: 8px;
      background: white;
      border-radius: 50%;
    }
    
    .terms-section {
      background: white;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .terms-all {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    
    .terms-all input[type="checkbox"] {
      margin-right: 10px;
      transform: scale(1.2);
    }
    
    .terms-item {
      padding: 15px 0;
      border-bottom: 1px solid #e9ecef;
    }
    
    .terms-item:last-child {
      border-bottom: none;
    }
    
    .terms-item input[type="checkbox"] {
      margin-right: 10px;
      transform: scale(1.1);
    }
    
    .terms-item .required {
      color: #dc3545;
      font-weight: bold;
    }
    
    .terms-item .optional {
      color: #6c757d;
    }
    
    .btn-container {
      text-align: center;
      margin-top: 40px;
    }
    
    .btn {
      padding: 15px 40px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      text-decoration: none;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      display: inline-block;
      margin: 0 10px;
    }
    
    .btn-primary {
      background-color: #007bff;
      color: white;
    }
    
    .btn-primary:hover {
      background-color: #0056b3;
    }
    
    .btn-secondary {
      background-color: #6c757d;
      color: white;
    }
    
    .btn-secondary:hover {
      background-color: #5a6268;
    }
    
    .btn:disabled {
      background-color: #dee2e6;
      color: #6c757d;
      cursor: not-allowed;
    }
    
    @media (max-width: 576px) {
      .container {
        padding: 15px;
      }
      
      .tab-btn {
        font-size: 14px;
        padding: 12px 15px;
      }
      
      .service-options {
        flex-direction: column;
      }
      
      .service-option {
        min-width: auto;
      }
      
      .service-option label {
        padding: 12px;
        font-size: 14px;
      }
      
      .service-notice {
        padding: 12px 15px;
        margin-bottom: 15px;
      }
      
      .service-notice .notice-title {
        font-size: 13px;
      }
      
      .service-notice .notice-text {
        font-size: 12px;
      }
      
      .btn {
        width: 100%;
        margin: 5px 0;
      }
      
      .banner-slider {
        height: auto !important;
      }
      
      .swiper-button-next,
      .swiper-button-prev {
        width: 32px;
        height: 32px;
      }
      
      .swiper-button-next:after,
      .swiper-button-prev:after {
        font-size: 12px;
      }
      
      .service-section {
        padding: 20px;
      }
      
      .terms-section {
        padding: 20px;
      }
    }
    
    /* ì¹´ìš´í„° ìŠ¤íƒ€ì¼ */
    .counter {
      display: flex;
      justify-content: space-between;
      background: white;
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      gap: 20px;
    }
    
    .count {
      flex: 1;
      text-align: center;
      padding: 20px;
      border-radius: 8px;
      background: #f8f9fa;
      transition: transform 0.3s ease;
    }
    
    .count:hover {
      transform: translateY(-5px);
    }
    
    .count .number {
      font-size: 36px;
      font-weight: bold;
      margin-bottom: 10px;
      line-height: 1;
    }
    
    .count p {
      margin: 0;
      font-size: 14px;
      color: #666;
      font-weight: 500;
    }
    
    .number.gray {
      color: #6c757d;
    }
    
    .number.pink {
      color: #e91e63;
    }
    
    .number.indigo {
      color: #3f51b5;
    }
    
    @media (max-width: 768px) {
      .counter {
        /* flex-wrap: wrap; */
        gap: 15px;
      }
      
      .count {
        flex: 1 1 calc(50% - 7.5px);
        padding: 15px;
      }
      
      .count .number {
        font-size: 22px;
      }
      
      .count p {
        font-size: 12px;
      }
    }
    
    @media (max-width: 576px) {
      .count {
        flex: 1 1 100%;
      }
      
      .counter {
        padding: 0px;
        background-color: transparent;
        box-shadow: none;
      }
    }
  </style>
</head>
<body layout:fragment="content">
  <div class="container mb-5">
    <!-- ë¡œê³  -->
    <div class="text-center">
      <img src="/img/logo.png" alt="ë¡œê³ ">
    </div>
    <!-- ë°°ë„ˆ ìŠ¬ë¼ì´ë” -->
    <div class="banner-slider">
      <div class="swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <img src="/img/banner1.png" alt="ë°°ë„ˆ 1">
          </div>
          <div class="swiper-slide">
            <img src="/img/banner2.png" alt="ë°°ë„ˆ 2">
          </div>
          <div class="swiper-slide">
            <img src="/img/banner3.png" alt="ë°°ë„ˆ 3">
          </div>
        </div>
        <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
        <div class="swiper-pagination"></div>
        <!-- ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ -->
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </div>
    </div>

    <!-- ì„¤ë¬¸ í†µê³„ -->
    <!-- <div class="counter">
      <div class="count count0">
        <div class="number gray" data-count="843">0</div>
        <p>ì§€ë‚œë‹¬ ì˜ë¢°ê±´</p>
      </div>
      <div class="count count1">
        <div class="number gray" data-count="117">0</div>
        <p>ì§€ë‚œì£¼ ì˜ë¢°ê±´</p>
      </div>
      <div class="count count2">
        <div class="number pink" data-count="36">0</div>
        <p>ì–´ì œ ì˜ë¢°ê±´</p>
      </div>
      <div class="count count3">
        <div class="number indigo" data-count="39">0</div>
        <p>ì˜¤ëŠ˜ ì˜ë¢°ê±´</p>
      </div>
    </div> -->
    
    <!-- ì„œë¹„ìŠ¤ ì¢…ë¥˜ ì„ íƒ -->
    <div class="service-section">
      <h3 class="section-title">ì„œë¹„ìŠ¤ ì¢…ë¥˜ ì„ íƒ</h3>
      
      <div class="tab-container">
        <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="tab-nav">
          <button class="tab-btn active" onclick="switchTab('service1')">
            <span>ì„œë¹„ìŠ¤ 1</span>
          </button>
          <button class="tab-btn" onclick="switchTab('service2')">
            <span>ì„œë¹„ìŠ¤ 2</span>
          </button>
        </div>
        
        <!-- íƒ­ ì½˜í…ì¸  1: ì„œë¹„ìŠ¤ 1 (ë‹¤ì¤‘ì„ íƒ) -->
        <div id="service1" class="tab-content active">
          <div class="service-notice">
            <div class="notice-title">ğŸ“‹ ì„œë¹„ìŠ¤ 1 ì•ˆë‚´</div>
            <div class="notice-text">
              â€¢ ì…ì£¼ ê´€ë ¨ í•„ìˆ˜ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤<br>
              â€¢ ì—¬ëŸ¬ í•­ëª©ì„ ë™ì‹œì— ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤<br>
              â€¢ ìµœì†Œ 1ê°œ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”
            </div>
          </div>
          
          <div class="service-group">
            <div class="service-options">
              <div class="service-option">
                <input type="checkbox" id="first_service_1" name="firstService" value="1">
                <label for="first_service_1">
                  ì…ì£¼ë¯¼ ë™ì˜ì„œ
                  <div style="font-size: 12px; color: #6c757d; margin-top: 5px;">ì…ì£¼ë¯¼ ë™ì˜ì„œ ì‘ì„± ë° ìˆ˜ì§‘</div>
                </label>
              </div>
              <div class="service-option">
                <input type="checkbox" id="first_service_2" name="firstService" value="2">
                <label for="first_service_2">
                  ìŠ¹ê°•ê¸° ê¸°íƒ€ ë³´ì–‘
                  <div style="font-size: 12px; color: #6c757d; margin-top: 5px;">ìŠ¹ê°•ê¸° ë° ê³µìš©ë¶€ ë³´í˜¸</div>
                </label>
              </div>
              <div class="service-option">
                <input type="checkbox" id="first_service_3" name="firstService" value="3">
                <label for="first_service_3">
                  í–‰ìœ„í—ˆê°€
                  <div style="font-size: 12px; color: #6c757d; margin-top: 5px;">ê´€ë¦¬ì‚¬ë¬´ì†Œ í–‰ìœ„í—ˆê°€ ì‹ ì²­</div>
                </label>
              </div>
            </div>
          </div>
        </div>
        
        <!-- íƒ­ ì½˜í…ì¸  2: ì„œë¹„ìŠ¤ 2 (ë‹¨ì¼ì„ íƒ) -->
        <div id="service2" class="tab-content">
          <div class="service-notice">
            <div class="notice-title">ğŸ› ï¸ ì„œë¹„ìŠ¤ 2 ì•ˆë‚´</div>
            <div class="notice-text">
              â€¢ ê³µì‚¬ ê´€ë ¨ ë¶€ê°€ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤<br>
              â€¢ í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ë§Œ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>
              â€¢ í•„ìˆ˜ ì„ íƒ í•­ëª©ì…ë‹ˆë‹¤
            </div>
          </div>
          
          <div class="service-group">
            <div class="service-options">
              <div class="service-option">
                <input type="radio" id="second_service_1" name="secondService" value="1">
                <label for="second_service_1">
                  ë°©ì¶©ë§ ì‹œê³µ
                  <div style="font-size: 12px; color: #6c757d; margin-top: 5px;">ì°½ë¬¸ ë°©ì¶©ë§ ì„¤ì¹˜ ì„œë¹„ìŠ¤</div>
                </label>
              </div>
              <div class="service-option">
                <input type="radio" id="second_service_2" name="secondService" value="2">
                <label for="second_service_2">
                  ì¢…í•© ì²­ì†Œ
                  <div style="font-size: 12px; color: #6c757d; margin-top: 5px;">ê³µì‚¬ ì™„ë£Œ í›„ ì²­ì†Œ ì„œë¹„ìŠ¤</div>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- ì´ìš© ì •ë³´ ë™ì˜ -->
    <div class="terms-section">
      <h3 class="section-title">ì´ìš© ì •ë³´ ë™ì˜</h3>
      
      <div class="terms-all">
        <label>
          <input type="checkbox" id="termsAll">
          <strong>ëª¨ë‘ ì„ íƒ</strong>
        </label>
      </div>
      
      <div class="terms-item">
        <label>
          <input type="checkbox" name="terms" value="1" class="required-term">
          ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ë™ì˜ <span class="required">(í•„ìˆ˜)</span>
        </label>
      </div>
      
      <div class="terms-item">
        <label>
          <input type="checkbox" name="terms" value="2" class="required-term">
          ê°œì¸ì •ë³´ ì œ3ì ì œê³µ ë™ì˜ <span class="required">(í•„ìˆ˜)</span>
        </label>
      </div>
      
      <div class="terms-item">
        <label>
          <input type="checkbox" name="terms" value="3" class="optional-term">
          ë§ˆì¼€íŒ… í™œìš©ì •ë³´ ë™ì˜ <span class="optional">(ì„ íƒ)</span>
        </label>
      </div>
    </div>
    
    <!-- ë²„íŠ¼ -->
    <div class="btn-container">
      <!-- <button type="button" class="btn btn-secondary" onclick="location.href='/'">ì·¨ì†Œ</button> -->
      <button type="button" class="btn btn-primary w-100 m-0" id="nextBtn" onclick="goToDetail()" disabled>ë‹¤ìŒ ë‹¨ê³„</button>
    </div>
  </div>

  <script>
    // ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜
    // function animateCounter(element, target, duration = 2000) {
    //   const start = 0;
    //   const increment = target / (duration / 16); // 60fps ê¸°ì¤€
    //   let current = start;
      
    //   const timer = setInterval(() => {
    //     current += increment;
    //     if (current >= target) {
    //       current = target;
    //       clearInterval(timer);
    //     }
    //     element.textContent = Math.floor(current).toLocaleString();
    //   }, 16);
    // }
    
    // Intersection Observerë¡œ ë·°í¬íŠ¸ì— ë“¤ì–´ì˜¬ ë•Œ ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰
    // function initCounterAnimation() {
    //   const counters = document.querySelectorAll('.number[data-count]');
      
    //   const observer = new IntersectionObserver((entries) => {
    //     entries.forEach(entry => {
    //       if (entry.isIntersecting && !entry.target.classList.contains('animated')) {
    //         const target = parseInt(entry.target.getAttribute('data-count'));
    //         entry.target.classList.add('animated');
    //         animateCounter(entry.target, target);
    //       }
    //     });
    //   }, {
    //     threshold: 0.5
    //   });
      
    //   counters.forEach(counter => {
    //     observer.observe(counter);
    //   });
    // }
    
    // íƒ­ ì „í™˜ í•¨ìˆ˜
    function switchTab(tabId) {
      // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // ëª¨ë“  íƒ­ ì½˜í…ì¸  ìˆ¨ê¹€
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // ì„ íƒëœ íƒ­ í™œì„±í™”
      event.target.closest('.tab-btn').classList.add('active');
      document.getElementById(tabId).classList.add('active');
      
      // íƒ­ ì „í™˜ í›„ ìœ íš¨ì„± ê²€ì‚¬ ë‹¤ì‹œ ì‹¤í–‰
      setTimeout(() => {
        if (window.checkValidationFunc) {
          window.checkValidationFunc();
        }
      }, 100);
    }
    
    // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ê´€ë¦¬
    document.addEventListener('DOMContentLoaded', function() {
      // ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”
      // initCounterAnimation();
      
      const termsAll = document.getElementById('termsAll');
      const requiredTerms = document.querySelectorAll('.required-term');
      const optionalTerms = document.querySelectorAll('.optional-term');
      const allTerms = document.querySelectorAll('input[name="terms"]');
      const nextBtn = document.getElementById('nextBtn');
      
      // ğŸ› ë””ë²„ê¹…: ìš”ì†Œë“¤ì´ ì œëŒ€ë¡œ ì„ íƒë˜ì—ˆëŠ”ì§€ í™•ì¸
      console.log('ğŸ“‹ ì´ˆê¸°í™” í™•ì¸:');
      console.log('termsAll:', termsAll);
      console.log('requiredTerms ê°œìˆ˜:', requiredTerms.length);
      console.log('allTerms ê°œìˆ˜:', allTerms.length);
      console.log('nextBtn:', nextBtn);
      
      // ì „ì²´ ì„ íƒ ì²´í¬ë°•ìŠ¤
      if (termsAll) {
        termsAll.addEventListener('change', function() {
          allTerms.forEach(term => {
            term.checked = this.checked;
          });
          checkValidation();
        });
      }
      
      // ê°œë³„ ì•½ê´€ ì²´í¬ë°•ìŠ¤
      allTerms.forEach(term => {
        term.addEventListener('change', function() {
          const allChecked = Array.from(allTerms).every(t => t.checked);
          if (termsAll) {
            termsAll.checked = allChecked;
          }
          checkValidation();
        });
      });
      
      // ì„œë¹„ìŠ¤ 1 ì„ íƒ (ë‹¤ì¤‘ ì„ íƒ - ì²´í¬ë°•ìŠ¤)
      const firstServiceInputs = document.querySelectorAll('input[name="firstService"]');
      console.log('firstServiceInputs ê°œìˆ˜:', firstServiceInputs.length);
      firstServiceInputs.forEach(input => {
        input.addEventListener('change', function() {
          console.log('ì„œë¹„ìŠ¤1 ë³€ê²½:', this.value, this.checked);
          checkValidation();
        });
      });
      
      // ì„œë¹„ìŠ¤ 2 ì„ íƒ (ë‹¨ì¼ ì„ íƒ - ë¼ë””ì˜¤ ë²„íŠ¼)
      const secondServiceInputs = document.querySelectorAll('input[name="secondService"]');
      console.log('secondServiceInputs ê°œìˆ˜:', secondServiceInputs.length);
      secondServiceInputs.forEach(input => {
        input.addEventListener('change', function() {
          console.log('ì„œë¹„ìŠ¤2 ë³€ê²½:', this.value, this.checked);
          checkValidation();
        });
      });
      
      // ìœ íš¨ì„± ê²€ì‚¬
      function checkValidation() {
        const firstServiceSelected = Array.from(firstServiceInputs).some(input => input.checked);
        const secondServiceSelected = Array.from(secondServiceInputs).some(input => input.checked);
        const requiredTermsChecked = Array.from(requiredTerms).every(term => term.checked);
        
        // í˜„ì¬ í™œì„±í™”ëœ íƒ­ í™•ì¸
        const currentActiveTab = document.querySelector('.tab-content.active').id;
        
        console.log('ğŸ” ìœ íš¨ì„± ê²€ì‚¬ ìƒíƒœ:');
        console.log('í˜„ì¬ í™œì„± íƒ­:', currentActiveTab);
        console.log('ì„œë¹„ìŠ¤1 ì„ íƒë¨:', firstServiceSelected);
        console.log('ì„œë¹„ìŠ¤2 ì„ íƒë¨:', secondServiceSelected);
        console.log('í•„ìˆ˜ ì•½ê´€ ì²´í¬ë¨:', requiredTermsChecked);
        
        let isValid = false;
        
        // í˜„ì¬ íƒ­ì— ë”°ë¥¸ ê²€ì¦ ë¡œì§
        if (currentActiveTab === 'service1') {
          // ì„œë¹„ìŠ¤1 íƒ­: ì„œë¹„ìŠ¤1 ì„ íƒ + í•„ìˆ˜ ì•½ê´€ ì²´í¬
          isValid = firstServiceSelected && requiredTermsChecked;
          console.log('ì„œë¹„ìŠ¤1 íƒ­ ê²€ì¦:', isValid);
        } else if (currentActiveTab === 'service2') {
          // ì„œë¹„ìŠ¤2 íƒ­: ì„œë¹„ìŠ¤2 ì„ íƒ + í•„ìˆ˜ ì•½ê´€ ì²´í¬
          isValid = secondServiceSelected && requiredTermsChecked;
          console.log('ì„œë¹„ìŠ¤2 íƒ­ ê²€ì¦:', isValid);
        }
        
        if (isValid) {
          nextBtn.disabled = false;
          nextBtn.style.opacity = '1';
          console.log('âœ… ë‹¤ìŒ ë‹¨ê³„ ë²„íŠ¼ í™œì„±í™”');
        } else {
          nextBtn.disabled = true;
          nextBtn.style.opacity = '0.5';
          console.log('âŒ ë‹¤ìŒ ë‹¨ê³„ ë²„íŠ¼ ë¹„í™œì„±í™”');
        }
      }
      
      // ì „ì—­ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•¨ìˆ˜ ë“±ë¡
      window.checkValidationFunc = checkValidation;
      
      // ì´ˆê¸° ìœ íš¨ì„± ê²€ì‚¬
      console.log('ğŸš€ ì´ˆê¸° ìœ íš¨ì„± ê²€ì‚¬ ì‹¤í–‰');
      checkValidation();
    });
    
    // ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™
    function goToDetail() {
      const firstServices = Array.from(document.querySelectorAll('input[name="firstService"]:checked')).map(input => input.value);
      const secondService = document.querySelector('input[name="secondService"]:checked');
      const terms = Array.from(document.querySelectorAll('input[name="terms"]:checked')).map(t => t.value);
      
      // í˜„ì¬ í™œì„±í™”ëœ íƒ­ í™•ì¸
      const currentActiveTab = document.querySelector('.tab-content.active').id;
      
      // í•„ìˆ˜ ì•½ê´€ í™•ì¸
      if (terms.length < 2) {
        alert('í•„ìˆ˜ ì•½ê´€ì— ëª¨ë‘ ë™ì˜í•´ì£¼ì„¸ìš”.');
        return;
      }
      
      // í˜„ì¬ íƒ­ì— ë”°ë¥¸ ì„œë¹„ìŠ¤ ì„ íƒ ê²€ì¦
      if (currentActiveTab === 'service1') {
        if (firstServices.length === 0) {
          alert('ì„œë¹„ìŠ¤ 1ì„ ìµœì†Œ 1ê°œ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”.');
          return;
        }
        // ë°©ë²• 1 : ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©
        // ì„œë¹„ìŠ¤1 íƒ­ì—ì„œëŠ” ì„œë¹„ìŠ¤2ë¥¼ ì„ íƒí•˜ì§€ ì•Šì•„ë„ ë¨
        // sessionStorage.setItem('firstServices', firstServices.join(','));
        // sessionStorage.setItem('secondService', ''); // ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì •
        // sessionStorage.setItem('terms', terms.join(','));

        // ë°©ë²• 2 : ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì‚¬ìš©
        const params = new URLSearchParams();
        params.set('firstServices', firstServices.join(','));
        params.set('secondService', ''); // ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì •
        params.set('terms', terms.join(','));
        location.href = '/forms/detail?' + params.toString();
        
      } else if (currentActiveTab === 'service2') {
        if (!secondService) {
          alert('ì„œë¹„ìŠ¤ 2ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
          return;
        }
        // ë°©ë²•1 : ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©
        // ì„œë¹„ìŠ¤2 íƒ­ì—ì„œëŠ” ì„œë¹„ìŠ¤1ì„ ì„ íƒí•˜ì§€ ì•Šì•„ë„ ë¨
        // sessionStorage.setItem('firstServices', ''); // ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì •
        // sessionStorage.setItem('secondService', secondService.value);
        // sessionStorage.setItem('terms', terms.join(','));
        // ë°©ë²• 2 : ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì‚¬ìš©
        const params = new URLSearchParams();
        params.set('firstServices', ''); // ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì •
        params.set('secondService', secondService.value);
        params.set('terms', terms.join(','));

        // TODO: ì„œë¹„ìŠ¤ì´ëŠ” ì¤€ë¹„ì¤‘
        $alert('ì¤€ë¹„ ì¤‘', '[ì„œë¹„ìŠ¤ 2] ëŠ” í˜„ì¬ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.', 'info', 'í™•ì¸');
        return;
        // location.href = '/forms/detail?' + params.toString();
      }
      
      // location.href = '/forms/detail';
      
      
      // ë°©ë²• 2: ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì‚¬ìš© (ì£¼ì„ í•´ì œí•˜ì—¬ ì‚¬ìš©)
      /*
      const params = new URLSearchParams();
      params.set('firstServices', firstServices.join(','));
      params.set('secondService', secondService.value);
      params.set('terms', terms.join(','));
      location.href = '/forms/detail?' + params.toString();
      */
    }
  </script>
  
  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
  <script>
    // Swiper ì´ˆê¸°í™”
    const swiper = new Swiper('.swiper', {
      // ìë™ ì¬ìƒ
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      // ë¬´í•œ ë£¨í”„
      loop: true,
      // í˜ì´ì§€ë„¤ì´ì…˜
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      // í„°ì¹˜/ìŠ¤ì™€ì´í”„ íš¨ê³¼
      effect: 'slide',
      speed: 500,
      // ë°˜ì‘í˜• ì„¤ì •
      breakpoints: {
        768: {
          slidesPerView: 1,
        }
      }
    });
  </script>
</body>
</html>