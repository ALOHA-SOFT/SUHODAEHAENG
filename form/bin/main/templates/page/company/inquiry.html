<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{UI/layouts/company/company_layout}">
<head>
  <title>ë¬¸ì˜í•˜ê¸° - ìˆ˜í˜¸ëŒ€í–‰</title>
</head>
<body>
  <main layout:fragment="content">
    <!-- Hero Section -->
    <section class="page-header">
      <div class="container">
        <h1>ë¬¸ì˜í•˜ê¸°</h1>
        <p>ê¶ê¸ˆí•œ ì‚¬í•­ì´ ìˆìœ¼ì‹ ê°€ìš”? í¸í•˜ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.</p>
      </div>
    </section>
    
    <!-- Inquiry Form Section -->
    <section class="page-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <form id="inquiryForm" class="inquiry-form">
              <!-- CSRF Token -->
              <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
              
              <!-- Name Field -->
              <div class="form-group">
                <label for="name" class="form-label">ì´ë¦„ <span class="required">*</span></label>
                <input type="text" class="form-control" id="name" name="name" placeholder="ì„±ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" required />
              </div>
              
              <!-- Email Field -->
              <div class="form-group">
                <label for="email" class="form-label">ì´ë©”ì¼ <span class="required">*</span></label>
                <input type="email" class="form-control" id="email" name="email" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" required />
              </div>
              
              <!-- Phone Field -->
              <div class="form-group">
                <label for="phone" class="form-label">ì—°ë½ì²˜ <span class="required">*</span></label>
                <input type="tel" class="form-control" id="phone" name="phone" placeholder="010-0000-0000" required />
              </div>
              
              <!-- Title Field -->
              <div class="form-group">
                <label for="title" class="form-label">ì œëª© <span class="required">*</span></label>
                <input type="text" class="form-control" id="title" name="title" placeholder="ë¬¸ì˜ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" required />
              </div>
              
              <!-- Content Field -->
              <div class="form-group">
                <label for="content" class="form-label">ë‚´ìš© <span class="required">*</span></label>
                <textarea class="form-control" id="content" name="content" rows="8" placeholder="ë¬¸ì˜ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" required></textarea>
              </div>
              
              <!-- Agreement Checkbox -->
              <div class="form-check">
                <input type="checkbox" class="form-check-input" id="agreePrivacy" required />
                <label class="form-check-label" for="agreePrivacy">
                  ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤ <span class="required">*</span>
                </label>
              </div>
              
              <!-- Submit Button -->
              <div class="form-actions">
                <button type="submit" class="btn btn-primary btn-lg">ë¬¸ì˜ ì œì¶œ</button>
                <button type="reset" class="btn btn-outline-secondary btn-lg">ì´ˆê¸°í™”</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Contact Info Section -->
    <section class="page-section bg-light">
      <div class="container">
        <h2 class="section-title">ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ì—°ë½í•˜ì„¸ìš”</h2>
        <div class="row">
          <div class="col-md-4 text-center">
            <div class="contact-card">
              <div class="contact-icon">ğŸ“</div>
              <h4>ì „í™”</h4>
              <p><a href="tel:1234-5678" class="contact-link">1234-5678</a></p>
              <p style="font-size: 0.9rem; color: var(--text-light);">í‰ì¼ 09:00~18:00</p>
            </div>
          </div>
          
          <div class="col-md-4 text-center">
            <div class="contact-card">
              <div class="contact-icon">ğŸ“§</div>
              <h4>ì´ë©”ì¼</h4>
              <p><a href="mailto:info@suhodahaeng.com" class="contact-link">info@suhodahaeng.com</a></p>
            </div>
          </div>
          
          <div class="col-md-4 text-center">
            <div class="contact-card">
              <div class="contact-icon">ğŸ’¬</div>
              <h4>ì¹´ì¹´ì˜¤í†¡</h4>
              <p><a href="#" class="contact-link">ìˆ˜í˜¸ëŒ€í–‰ ìƒë‹´</a></p>
              <p style="font-size: 0.9rem; color: var(--text-light);">ë¹ ë¥¸ ì‘ë‹µ</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <style>
      .page-header {
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: white;
        padding: 3rem 0;
        margin-bottom: 2rem;
      }
      
      .page-header h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
      }
      
      .inquiry-form {
        background: white;
        padding: 2.5rem;
        border-radius: 12px;
        box-shadow: var(--shadow);
      }
      
      .required {
        color: #DC3545;
      }
      
      .form-check {
        margin-bottom: 2rem;
      }
      
      .form-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
      }
      
      .contact-card {
        padding: 2rem;
        background: white;
        border-radius: 12px;
        box-shadow: var(--shadow);
      }
      
      .contact-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
      }
      
      .contact-link {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
      }
      
      .contact-link:hover {
        text-decoration: underline;
      }
      
      @media (max-width: 768px) {
        .page-header h1 {
          font-size: 2rem;
        }
        
        .inquiry-form {
          padding: 1.5rem;
        }
        
        .form-actions {
          flex-direction: column;
        }
      }
    </style>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const inquiryForm = document.getElementById('inquiryForm');
        
        inquiryForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Form validation
          if (!validateForm(this)) {
            $alert('í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
            return;
          }
          
          // Email validation
          const email = document.getElementById('email').value;
          if (!isValidEmail(email)) {
            $alert('ìœ íš¨í•œ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
            return;
          }
          
          // Phone validation
          const phone = document.getElementById('phone').value;
          if (!isValidPhone(phone)) {
            $alert('ìœ íš¨í•œ ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
            return;
          }
          
          // Privacy agreement check
          if (!document.getElementById('agreePrivacy').checked) {
            $alert('ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•´ì£¼ì„¸ìš”.', 'warning');
            return;
          }
          
          // Submit form via AJAX
          showLoading();
          
          const formData = {
            name: document.getElementById('name').value,
            email: email,
            phone: phone,
            title: document.getElementById('title').value,
            content: document.getElementById('content').value
          };
          
          $ajax({
            url: '/api/inquiries',
            method: 'POST',
            data: JSON.stringify(formData),
            contentType: 'application/json',
            success: function(response) {
              hideLoading();
              if (response.success) {
                $alert('ë¬¸ì˜ê°€ ì„±ê³µì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ë¹ ë¥´ê²Œ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.', 'success');
                inquiryForm.reset();
                setTimeout(() => {
                  window.location.href = '/';
                }, 2000);
              } else {
                $alert(response.message || 'ë¬¸ì˜ ì ‘ìˆ˜ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
              }
            },
            error: function() {
              hideLoading();
              $alert('ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
          });
        });
      });
    </script>
  </main>
</body>
</html>
